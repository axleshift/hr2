import{r as e}from"./react-router-dom-BnDDw25P.js";import{F as a,B as r,C as t}from"./index.es-DNrzUf6T.js";import{a as i,F as s,j as o,g as n,k as l,w as c}from"./index-DVAAnj-9.js";import{t as d,f as m}from"./index-DCO1bnrX.js";import"./JobForm-BX-wSo9F.js";import{J as p}from"./JobOfferForm-D9vJK8j_.js";import{A as h}from"./AppPagination-D5Gejofw.js";import{C as f}from"./CContainer-C-7WEMUq.js";import{C as u,a as j}from"./CRow-Dujfgc-X.js";import{C}from"./CFormLabel-C3ZNjviW.js";import{C as v}from"./CInputGroup-DvwMqNE_.js";import{C as y}from"./CFormInput-DlNfdHmF.js";import{C as b,a as g}from"./CCardBody-D-rMfn6F.js";import{C as S,a as D,b as N,c as Y,d as x,e as M}from"./CTable-PTB9eoDi.js";import{C as A}from"./CTooltip-BemHtZwS.js";import"./react-BF1r7_8g.js";import"./react-dom-DgB6LS8R.js";import"./zod-B0zZW6rS.js";import"./react-hook-form-DB8hWBdy.js";import"./@hookform/resolvers/zod-1wp20Skh.js";import"./CModalHeader-D3Pijq-f.js";import"./DefaultLayout-BQRtu9S-.js";import"./index.esm-CRpYSObv.js";import"./isRTL-D5ORmfro.js";import"./CModalTitle-DWg7cv10.js";import"./CFormTextarea-R1STRuei.js";import"./CFormSelect-CvPrxnA6.js";import"./CFormCheck-DxhrmDYV.js";const B=()=>{const[B,F]=e.useState([]),[w,I]=e.useState(!1),[P,k]=e.useState("view"),[J,T]=e.useState(!1),[z,L]=e.useState({}),[$,_]=e.useState(1),[R,E]=e.useState(3),[G,H]=e.useState(0),[O,V]=e.useState(0),K=async()=>{try{I(!0);const e=await c(`/applicant/joboffer/recent?page=${$}&limit=${R}&sort=desc`);200===e.status&&(F(e.data.data),_(e.data.currentPage),H(e.data.totalPages),V(e.data.totalItems))}catch(e){}finally{I(!1)}};return e.useEffect((()=>{K()}),[$,R,G,O]),i(s,{children:o(f,{children:[i(u,{className:"mb-3",children:o(j,{children:[i("h2",{children:"Joboffers"}),i("small",{children:"In this page, you can view Job offers for applicants that needs approval by a manager."})]})}),i(u,{className:"mb-3",children:i(j,{children:i(C,{children:o(v,{children:[i(y,{type:"search",placeholder:"Search...","aria-label":"Search"}),i(n,{type:"button",color:"primary",children:i(a,{icon:r})}),i(n,{type:"button",color:"primary",children:i(a,{icon:t,onClick:()=>K()})})]})})})}),i(u,{className:"mb-3",children:i(j,{children:i(b,{children:i(g,{children:o(S,{align:"middle",hover:!0,responsive:!0,striped:!0,children:[i(D,{children:o(N,{children:[i(Y,{children:"#"}),i(Y,{children:"Applicant Name"}),i(Y,{children:"Position"}),i(Y,{children:"Start Date"}),i(Y,{children:"Status"}),i(Y,{children:"Issued By"}),i(Y,{children:"Issued Date"}),i(Y,{children:"Approved By"}),i(Y,{children:"Approved Date"}),i(Y,{children:"Email Sent"}),i(Y,{children:"Actions"})]})}),i(x,{children:w?i(N,{children:i(M,{colSpan:"12",children:i("div",{className:"d-flex justify-content-center",children:i(l,{variant:"grow",size:"sm"})})})}):0===B.length?i(N,{children:i(M,{colSpan:"12",children:i("div",{className:"d-flex justify-content-center",children:"No job offer found"})})}):B.map((e=>{var a,r,t,s;return o(N,{children:[i(A,{placement:"top",content:e._id,children:i(M,{children:d(e._id,10)})}),o(M,{children:[null==(a=e.applicant)?void 0:a.lastname,", ",null==(r=e.applicant)?void 0:r.firstname]}),i(M,{children:e.position}),i(M,{children:m(e.startDate,"MMM DD YYYY h:mm A")}),i(M,{children:e.status}),o(M,{children:[null==(t=e.issuedBy)?void 0:t.lastname,", ",null==(s=e.issuedBy)?void 0:s.firstname]}),i(M,{children:m(e.issuedDate,"MMM DD YYYY h:mm A")}),i(M,{children:e.approvedBy?`${e.approvedBy.lastname}, ${e.approvedBy.firstname}`:"No Data"}),i(M,{children:e.approvedDate?m(e.approvedDate,"MMM DD YYYY h:m A"):"No Data"}),i(M,{children:e.emailsent?i("span",{className:"text-success",children:"Sent"}):i("span",{className:"text-danger",children:"Not Sent"})}),i(M,{children:i(n,{color:"warning",size:"sm",onClick:()=>{L(e),T(!0),k("edit")},children:"Manage"})})]},e._id)}))})]})})})})}),i(u,{className:"mt-2",children:i(j,{children:i("div",{className:"d-flex flex-row gap-2 justify-content-center align-items-center",children:i(h,{currentPage:$,totalPages:G,onPageChange:_})})})}),i(u,{children:i(j,{children:i(p,{isVisible:J,onClose:()=>{T(!1)},state:P,joboffer:z})})})]})})};export{B as default};
