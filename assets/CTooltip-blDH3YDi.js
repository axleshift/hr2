import{r as a,_ as J,u as K,R as s,a as f,e as Q,c as U,p as t,P as W,f as X}from"./index-CiV4mRcZ.js";import{i as M,u as Y}from"./index.es-ba-Ohs3A.js";var Z=function(e){if(!e)return 0;var r=window.getComputedStyle(e),o=r.transitionDuration,i=r.transitionDelay,d=Number.parseFloat(o),u=Number.parseFloat(i);return!d&&!u?0:(o=o.split(",")[0],i=i.split(",")[0],(Number.parseFloat(o)+Number.parseFloat(i))*1e3)},x=function(e){typeof e=="function"&&e()},$=function(e){e.dispatchEvent(new Event("transitionend"))},ee=function(e,r,o){if(o===void 0&&(o=!0),!o){x(e);return}var i=5,d=Z(r)+i,u=!1,p=function(m){var v=m.target;v===r&&(u=!0,r.removeEventListener("transitionend",p),x(e))};r.addEventListener("transitionend",p),setTimeout(function(){u||$(r)},d)},te=function(e,r){switch(e){case"right":return M(r)?"left":"right";case"left":return M(r)?"right":"left";default:return e}},H=a.forwardRef(function(e,r){var o=e.children,i=e.animation,d=i===void 0?!0:i,u=e.className,p=e.container,m=e.content,v=e.delay,h=v===void 0?0:v,w=e.fallbackPlacements,_=w===void 0?["top","right","bottom","left"]:w,T=e.offset,O=T===void 0?[0,6]:T,R=e.onHide,E=e.onShow,N=e.placement,q=N===void 0?"top":N,k=e.trigger,l=k===void 0?["hover","focus"]:k,b=e.visible,j=J(e,["children","animation","className","container","content","delay","fallbackPlacements","offset","onHide","onShow","placement","trigger","visible"]),n=a.useRef(null),g=a.useRef(null),A=K(r,n),D=a.useRef("tooltip".concat(Math.floor(Math.random()*1e6))),P=Y(),B=P.initPopper,L=P.destroyPopper,I=P.updatePopper,C=a.useState(!1),V=C[0],S=C[1],F=a.useState(b),y=F[0],c=F[1],z=typeof h=="number"?{show:h,hide:h}:h,G={modifiers:[{name:"arrow",options:{element:".tooltip-arrow"}},{name:"flip",options:{fallbackPlacements:_}},{name:"offset",options:{offset:O}}],placement:te(q,g.current)};return a.useEffect(function(){c(b)},[b]),a.useEffect(function(){return y&&(S(!0),n.current&&(n.current.classList.remove("fade","show"),L()),setTimeout(function(){g.current&&n.current&&(d&&n.current.classList.add("fade"),B(g.current,n.current,G),n.current.style.removeProperty("display"),n.current.classList.add("show"),E&&E())},z.show)),function(){n.current&&(n.current.classList.remove("show"),R&&R(),ee(function(){n.current&&(n.current.style.display="none"),L(),S(!1)},n.current))}},[y]),a.useEffect(function(){I()},[m]),s.createElement(s.Fragment,null,s.cloneElement(o,f(f(f(f(f({},y&&{"aria-describedby":D.current}),{ref:g}),(l==="click"||l.includes("click"))&&{onClick:function(){return c(!y)}}),(l==="focus"||l.includes("focus"))&&{onFocus:function(){return c(!0)},onBlur:function(){return c(!1)}}),(l==="hover"||l.includes("hover"))&&{onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)}})),s.createElement(Q,{container:p,portal:!0},V&&s.createElement("div",f({className:U("tooltip","bs-tooltip-auto",u),id:D.current,ref:A,role:"tooltip",style:{display:"none"}},j),s.createElement("div",{className:"tooltip-arrow"}),s.createElement("div",{className:"tooltip-inner"},m))))});H.propTypes={animation:t.bool,children:t.node,container:t.any,content:t.oneOfType([t.string,t.node]),delay:t.oneOfType([t.number,t.shape({show:t.number.isRequired,hide:t.number.isRequired})]),fallbackPlacements:W,offset:t.any,onHide:t.func,onShow:t.func,placement:t.oneOf(["auto","top","right","bottom","left"]),trigger:X,visible:t.bool};H.displayName="CTooltip";export{H as C};
