import{r,j as e,p as A,B as m}from"./index-B5_k3pz7.js";import{F as h,e as v,t as w}from"./index.es-DFKOw07C.js";import{C as x}from"./CContainer-BxOX9Cxt.js";import{C as p}from"./CRow-C9MYSQZt.js";import{C as D,a as F}from"./CCardBody-DAnZlCFA.js";import{C as B}from"./CCardHeader-DKpg6KsG.js";import{C as S,a as _,b as j,c as t,d as E,e as o}from"./CTable-686SDWol.js";import{a as H}from"./DefaultLayout-VlAxP9xZ.js";import{a as R}from"./CButton-N0hWjogM.js";import"./index.esm-Bf-01pZE.js";const I=({theme:L})=>{const[M,n]=r.useState(!1),[d,C]=r.useState([]),[i,f]=r.useState([]),[N,g]=r.useState({}),[k,u]=r.useState(!1),y=async()=>{try{const s=await m("/applicant/all");f(s.data.data),console.log(i)}catch(s){console.error(s)}},T=async s=>{try{u(!0);const a=i.find(l=>l._id===s);g(a)}catch(a){console.error(a)}},b=async()=>{try{n(!0);const a=await m("/tags/category/applicant");a.status===200?(C(a.data.data),n(!1)):(console.log("Failed"),n(!1))}catch(s){console.log(s)}};return r.useEffect(()=>{y(),b()},[]),e.jsx(e.Fragment,{children:e.jsxs(x,{children:[e.jsx(p,{children:e.jsx(x,{children:e.jsxs(D,{children:[e.jsx(B,{children:"Applicants"}),e.jsx(F,{children:e.jsxs(S,{align:"middle",hover:!0,responsive:!0,striped:!0,children:[e.jsx(_,{children:e.jsxs(j,{children:[e.jsx(t,{children:e.jsx(h,{icon:v})}),e.jsx(t,{children:"Email"}),e.jsx(t,{children:"Phone"}),e.jsx(t,{children:"Tags"}),e.jsx(t,{children:"Action"})]})}),e.jsx(E,{children:i.map(s=>e.jsxs(j,{children:[e.jsx(o,{children:e.jsxs("div",{children:[s.lastname,", ",s.firstname]})}),e.jsx(o,{children:e.jsx("div",{children:s.email})}),e.jsx(o,{children:e.jsx("div",{children:s.phone})}),e.jsx(o,{children:e.jsx("div",{className:"d-flex gap-2",children:s.tags.map((a,l)=>e.jsx(H,{color:"primary",children:d.find(c=>c._id===a)&&d.find(c=>c._id===a).name},l))})}),e.jsx(o,{children:e.jsx(R,{onClick:()=>T(s._id),className:"btn btn-primary",size:"sm",children:e.jsx(h,{icon:w})})})]},s._id))})]})})]})})}),e.jsx(p,{})]})})};I.propTypes={theme:A.string};export{I as default};
