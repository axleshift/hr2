import{w as v,r as a,A as y,j as s}from"./index-_TqtwX6w.js";import{z as o,u as S,t as I}from"./zod-B6dXel7S.js";import{F as l,j as E,k as L}from"./index.es-CwpE4QZf.js";import{C as d}from"./CContainer-kHbYGt-9.js";import{C as r,a as t}from"./CRow-1Wab6Vg5.js";import{C as F}from"./CCardGroup-CVdQYqRL.js";import{C as U,a as k}from"./CCardBody-BihuB_Cx.js";import{C as A,a as x}from"./CFormInput-BaUwCMph.js";import{C as u}from"./CInputGroup-DzKxmTWQ.js";import{C as p}from"./CInputGroupText-Dzpz21J1.js";import{a as h}from"./CButton-CHC_VKcH.js";const M=()=>{const n=v(),{login:j,isAuthenticated:i}=a.useContext(y),[g,f]=a.useState(!1),C=o.object({username:o.string().min(3,{message:"Username must be at least 3 characters long"}).max(20,{message:"Username must be at most 20 characters long"}),password:o.string().min(8,{message:"Password must be at least 8 characters long"}).max(50,{message:"Password must be at most 50 characters long"})}),{register:m,handleSubmit:b,formState:{errors:e}}=S({resolver:I(C)}),w=c=>{j(c.username,c.password,N=>{N?n("/dashboard"):f(!0)})};return a.useEffect(()=>{i&&n("/dashboard")},[i]),s.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:s.jsx(d,{children:s.jsx(r,{className:"justify-content-center",children:s.jsx(t,{md:6,children:s.jsx(F,{children:s.jsx(U,{className:"p-4",children:s.jsx(k,{children:s.jsxs(A,{className:"text-center",onSubmit:b(w),children:[s.jsx("h1",{children:"Login"}),s.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),s.jsxs(d,{className:"d-flex flex-column gap-2",children:[s.jsxs(r,{children:[s.jsxs(u,{className:"mb-3",children:[s.jsx(p,{children:s.jsx(l,{icon:E})}),s.jsx(x,{type:"text",placeholder:"Username",autoComplete:"username",...m("username"),invalid:!!e.username}),e.username&&s.jsx("div",{className:"invalid-feedback",children:e.username.message})]}),s.jsxs(u,{children:[s.jsx(p,{children:s.jsx(l,{icon:L})}),s.jsx(x,{type:"password",placeholder:"Password",autoComplete:"current-password",...m("password"),invalid:!!e.password}),e.password&&s.jsx("div",{className:"invalid-feedback",children:e.password.message})]})]}),g?s.jsx(r,{children:s.jsx(t,{children:s.jsx("div",{className:"text-danger",children:"Invalid username or password"})})}):null,s.jsx(r,{children:s.jsxs(t,{className:"d-flex flex-row gap-3 justify-content-center",children:[s.jsx(h,{type:"submit",color:"primary",className:"px-4",children:"Login"}),s.jsx(h,{color:"success",className:"px-4",children:"Sign Up"})]})})]})]})})})})})})})})};export{M as default};
