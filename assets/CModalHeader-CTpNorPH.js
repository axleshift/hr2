import{r as n,_ as y,R as l,a as f,c as C,p as o,u as ne,T as le,e as I,z as te}from"./index-Dmx2YhI4.js";import{h as re}from"./DefaultLayout-B1zV6lhP.js";var k=n.forwardRef(function(e,s){var r=e.children,i=e.className,a=y(e,["children","className"]);return l.createElement("div",f({className:C("modal-content",i)},a,{ref:s}),r)});k.propTypes={children:o.node,className:o.string};k.displayName="CModalContent";var x=n.forwardRef(function(e,s){var r,i=e.children,a=e.alignment,c=e.className,u=e.fullscreen,m=e.scrollable,v=e.size,p=y(e,["children","alignment","className","fullscreen","scrollable","size"]);return l.createElement("div",f({className:C("modal-dialog",(r={"modal-dialog-centered":a==="center"},r[typeof u=="boolean"?"modal-fullscreen":"modal-fullscreen-".concat(u,"-down")]=u,r["modal-dialog-scrollable"]=m,r["modal-".concat(v)]=v,r),c)},p,{ref:s}),i)});x.propTypes={alignment:o.oneOf(["top","center"]),children:o.node,className:o.string,fullscreen:o.oneOfType([o.bool,o.oneOf(["sm","md","lg","xl","xxl"])]),scrollable:o.bool,size:o.oneOf(["sm","lg","xl"])};x.displayName="CModalDialog";var K=n.createContext({}),q=n.forwardRef(function(e,s){var r=e.children,i=e.alignment,a=e.backdrop,c=a===void 0?!0:a,u=e.className,m=e.container,v=e.duration,p=v===void 0?150:v,w=e.focus,J=w===void 0?!0:w,Q=e.fullscreen,O=e.keyboard,U=O===void 0?!0:O,h=e.onClose,R=e.onClosePrevented,W=e.onShow,T=e.portal,M=T===void 0?!0:T,X=e.scrollable,Y=e.size,z=e.transition,g=z===void 0?!0:z,B=e.unmountOnClose,Z=B===void 0?!0:B,N=e.visible,$=y(e,["children","alignment","backdrop","className","container","duration","focus","fullscreen","keyboard","onClose","onClosePrevented","onShow","portal","scrollable","size","transition","unmountOnClose","visible"]),P=n.useRef(null),b=n.useRef(null),_=n.useRef(null),ee=ne(s,b),L=n.useState(N),d=L[0],E=L[1],S=n.useState(!1),V=S[0],D=S[1],oe={visible:d,setVisible:E};n.useEffect(function(){E(N)},[N]),n.useEffect(function(){var t;return d?(P.current=document.activeElement,document.addEventListener("mouseup",H),document.addEventListener("keydown",j)):(t=P.current)===null||t===void 0||t.focus(),function(){document.removeEventListener("mouseup",H),document.removeEventListener("keydown",j)}},[d]);var F=function(){return c==="static"?D(!0):(E(!1),h&&h())};n.useLayoutEffect(function(){R&&R(),setTimeout(function(){return D(!1)},p)},[V]),n.useLayoutEffect(function(){return d?(document.body.classList.add("modal-open"),c&&(document.body.style.overflow="hidden",document.body.style.paddingRight="0px"),setTimeout(function(){var t;J&&((t=b.current)===null||t===void 0||t.focus())},g?p:0)):(document.body.classList.remove("modal-open"),c&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))),function(){document.body.classList.remove("modal-open"),c&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))}},[d]);var H=function(t){b.current&&b.current==t.target&&F()},j=function(t){t.key==="Escape"&&U&&F()};return l.createElement(l.Fragment,null,l.createElement(le,{in:d,mountOnEnter:!0,nodeRef:b,onEnter:W,onExit:h,unmountOnExit:Z,timeout:g?p:0},function(t){return l.createElement(I,{container:m,portal:M},l.createElement(K.Provider,{value:oe},l.createElement("div",f({className:C("modal",{"modal-static":V,fade:g,show:t==="entered"},u),tabIndex:-1},d?{"aria-modal":!0,role:"dialog"}:{"aria-hidden":"true"},{style:f({},t!=="exited"&&{display:"block"})},$,{ref:ee}),l.createElement(x,{alignment:i,fullscreen:Q,scrollable:X,size:Y},l.createElement(k,{ref:_},r)))))}),c&&l.createElement(I,{container:m,portal:M},l.createElement(re,{visible:d})))});q.propTypes={alignment:o.oneOf(["top","center"]),backdrop:o.oneOfType([o.bool,o.oneOf(["static"])]),children:o.node,className:o.string,container:o.any,duration:o.number,focus:o.bool,fullscreen:o.oneOfType([o.bool,o.oneOf(["sm","md","lg","xl","xxl"])]),keyboard:o.bool,onClose:o.func,onClosePrevented:o.func,onShow:o.func,portal:o.bool,scrollable:o.bool,size:o.oneOf(["sm","lg","xl"]),transition:o.bool,unmountOnClose:o.bool,visible:o.bool};q.displayName="CModal";var A=n.forwardRef(function(e,s){var r=e.children,i=e.className,a=y(e,["children","className"]);return l.createElement("div",f({className:C("modal-body",i)},a,{ref:s}),r)});A.propTypes={children:o.node,className:o.string};A.displayName="CModalBody";var G=n.forwardRef(function(e,s){var r=e.children,i=e.className,a=e.closeButton,c=a===void 0?!0:a,u=y(e,["children","className","closeButton"]),m=n.useContext(K).setVisible;return l.createElement("div",f({className:C("modal-header",i)},u,{ref:s}),r,c&&l.createElement(te,{onClick:function(){return m(!1)}}))});G.propTypes={children:o.node,className:o.string,closeButton:o.bool};G.displayName="CModalHeader";export{q as C,G as a,A as b};
