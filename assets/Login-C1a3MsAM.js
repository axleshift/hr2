import{v as N,r as i,A as v,j as s}from"./index-DJmP4oi1.js";import{z as a,u as y,t as S}from"./zod-DUXwhK-0.js";import{F as m,e as I,g as L}from"./index-eE9MX41S.js";import{C as c}from"./CContainer-Bi4TmV07.js";import{C as r,a as o}from"./CRow-C4bqXax5.js";import{C as E}from"./CCardGroup-7bFJPOOI.js";import{C as F,a as U}from"./CCardBody-CsRVGBr3.js";import{C as k}from"./CForm-CXAWI-AN.js";import{C as l}from"./CInputGroup-D0roewrY.js";import{C as d}from"./CInputGroupText-CcojUkRb.js";import{C as x}from"./CFormInput-CXMpxMYz.js";import{a as p}from"./CButton-BokoXM6Y.js";import"./CFormControlWrapper-4INfD17j.js";import"./CFormControlValidation-CkCCXccc.js";import"./CFormLabel-ByYPne7n.js";const V=()=>{const u=N(),{login:h}=i.useContext(v),[g,j]=i.useState(!1),f=a.object({username:a.string().min(3,{message:"Username must be at least 3 characters long"}).max(20,{message:"Username must be at most 20 characters long"}),password:a.string().min(8,{message:"Password must be at least 8 characters long"}).max(50,{message:"Password must be at most 50 characters long"})}),{register:t,handleSubmit:C,formState:{errors:e}}=y({resolver:S(f)}),b=n=>{h(n.username,n.password,w=>{w?u("/dashboard"):j(!0)})};return s.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:s.jsx(c,{children:s.jsx(r,{className:"justify-content-center",children:s.jsx(o,{md:6,children:s.jsx(E,{children:s.jsx(F,{className:"p-4",children:s.jsx(U,{children:s.jsxs(k,{className:"text-center",onSubmit:C(b),children:[s.jsx("h1",{children:"Login"}),s.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),s.jsxs(c,{className:"d-flex flex-column gap-2",children:[s.jsxs(r,{children:[s.jsxs(l,{className:"mb-3",children:[s.jsx(d,{children:s.jsx(m,{icon:I})}),s.jsx(x,{type:"text",placeholder:"Username",autoComplete:"username",...t("username"),invalid:!!e.username}),e.username&&s.jsx("div",{className:"invalid-feedback",children:e.username.message})]}),s.jsxs(l,{children:[s.jsx(d,{children:s.jsx(m,{icon:L})}),s.jsx(x,{type:"password",placeholder:"Password",autoComplete:"current-password",...t("password"),invalid:!!e.password}),e.password&&s.jsx("div",{className:"invalid-feedback",children:e.password.message})]})]}),g?s.jsx(r,{children:s.jsx(o,{children:s.jsx("div",{className:"text-danger",children:"Invalid username or password"})})}):null,s.jsx(r,{children:s.jsxs(o,{className:"d-flex flex-row gap-3 justify-content-center",children:[s.jsx(p,{type:"submit",color:"primary",className:"px-4",children:"Login"}),s.jsx(p,{color:"success",className:"px-4",children:"Sign Up"})]})})]})]})})})})})})})})};export{V as default};
