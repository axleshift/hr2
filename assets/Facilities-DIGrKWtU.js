const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./FacilityForm-DyWUhMjS.js","./react-router-dom-BnDDw25P.js","./react-BF1r7_8g.js","./react-dom-DgB6LS8R.js","./index-CcMoZ86M.js","./index-C7lYjtMO.css","./zod-B0zZW6rS.js","./react-hook-form-DB8hWBdy.js","./@hookform/resolvers/zod-1wp20Skh.js","./CModalHeader-_Q4P1NwJ.js","./DefaultLayout-f6fgnM5a.js","./CContainer-CXw2kXtD.js","./index.esm-5D08hL8w.js","./index.es-bvOFjCBQ.js","./isRTL-D5ORmfro.js","./DefaultLayout-C111EtUu.css","./CModalTitle-CUSi6tVS.js","./CFormLabel-Cn49qeSD.js","./CRow-Bcopbwr-.js","./CFormInput-DqSYQ0H6.js","./CFormTextarea-BayWnFVt.js","./CModalFooter-CD7E3XOU.js","./ManageFacilityForm-B2ckPdId.js","./index-DCO1bnrX.js","./ConfirmationDialog-K51Wozrj.js","./CTabList-Bk-_56XX.js","./getTransitionDurationFromElement-2nBpLMKS.js","./CCardBody-NXgyA15G.js","./CCardHeader-C6GIS5ko.js","./CTable-Cj8mkuZH.js","./CTooltip-DPwsLnsN.js"])))=>i.map(i=>d[i]);
import{m as e,a as i,F as r,j as a,g as s,k as l,w as t,y as c,i as n}from"./index-CcMoZ86M.js";import{r as o,R as d}from"./react-router-dom-BnDDw25P.js";import{F as h,B as m}from"./index.es-bvOFjCBQ.js";import{C as u}from"./CContainer-CXw2kXtD.js";import{C as p,a as f}from"./CRow-Bcopbwr-.js";import{C,a as y}from"./CCardBody-NXgyA15G.js";import{C as j,a as g,b,c as F,d as E,e as _}from"./CTable-Cj8mkuZH.js";import{C as v,a as k,b as N}from"./CModalHeader-_Q4P1NwJ.js";import{C as S}from"./CModalTitle-CUSi6tVS.js";import{C as w}from"./CAlert-B3vQZvEs.js";import{C as x}from"./CModalFooter-CD7E3XOU.js";import{C as T}from"./CFormLabel-Cn49qeSD.js";import{C as D}from"./CFormCheck-Yt3tueCj.js";import"./react-dom-DgB6LS8R.js";import"./react-BF1r7_8g.js";import"./DefaultLayout-f6fgnM5a.js";import"./index.esm-5D08hL8w.js";import"./isRTL-D5ORmfro.js";const A=d.lazy((()=>n((()=>import("./FacilityForm-DyWUhMjS.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]),import.meta.url))),L=d.lazy((()=>n((()=>import("./ManageFacilityForm-B2ckPdId.js")),__vite__mapDeps([22,4,1,2,3,5,6,7,8,23,13,24,11,18,9,10,12,14,15,16,25,26,17,19,27,28,29,30]),import.meta.url))),M=()=>{const{addToast:n}=o.useContext(e),[M,z]=d.useState([]),[I,O]=d.useState(!0),[R,V]=d.useState(""),[B,H]=d.useState(!1),[P,$]=d.useState({}),[q,G]=d.useState(!1),[J,K]=d.useState(!1),[W,Y]=d.useState({}),[Z,Q]=d.useState(!1),[U,X]=d.useState(!1),ee=async()=>{try{const e=await t("/facilities/all");if(404===e.status)return O(!1),n("Error","Facilities not found","danger");z(e.data.data),O(!1)}catch(e){n("Error","An Error Occurred","danger"),O(!1)}};return o.useEffect((()=>{ee()}),[]),i(r,{children:a(u,{children:[i(p,{className:"mb-3",children:a(f,{children:[i("h2",{children:"Facilities"}),i("small",{children:"In this page you can create, remove, update, and delete all the facilities available in the system."})]})}),i(p,{className:"mb-3",children:i(f,{children:a("div",{className:"d-flex justify-content-end",children:[i(s,{color:"primary",onClick:()=>{G(!1),H(!0)},children:"Create Facility"}),i(s,{color:"info",className:"ms-2",onClick:()=>{ee()},children:i(h,{icon:m})})]})})}),i(p,{children:i(f,{children:I?i("div",{className:"d-flex justify-content-center align-items-center",children:i(l,{})}):i(C,{children:i(y,{children:a(j,{align:"middle",hover:!0,responsive:!0,striped:!0,children:[i(g,{children:a(b,{children:[i(F,{children:"#"}),i(F,{children:"Name"}),i(F,{children:"Type"}),i(F,{children:"Description"}),i(F,{children:"Actions"})]})}),i(E,{children:M.map((e=>a(b,{children:[i(_,{children:e._id}),i(_,{children:e.name}),i(_,{children:e.type}),i(_,{children:e.description}),i(_,{children:a("div",{className:"d-flex flex-row gap-2",children:[i(s,{color:"info",size:"sm",onClick:()=>{G(!0),$(e),H(!0)},children:"Edit"}),i(s,{color:"danger",size:"sm",className:"ms-2",onClick:()=>{Y(e),K(!0)},children:"Delete"}),i(s,{color:"primary",size:"sm",className:"ms-2",onClick:()=>{$(e),X(!0)},children:"Manage"})]})})]},e._id)))})]})})})})}),i(p,{children:i(f,{children:a(v,{visible:J,onClose:()=>{K(!1),Y({}),Q(!1)},children:[i(k,{children:i(S,{children:"Confirm Deletion"})}),a(N,{children:[i("p",{children:"Are you sure you want to delete this facility?"}),i("br",{}),a("p",{children:[i("strong",{children:"Facility Name: "})," ",i("small",{children:W.name})]}),a("p",{children:[i("strong",{children:"Facility Type: "})," ",i("small",{children:W.type})]}),i(w,{color:"danger",children:a("p",{children:[i("strong",{children:"Warning: "}),i("small",{children:"Be aware that this action is irreversible. Once you delete this facility, you will not be able to recover it. This actions will also delete all the associated information with this facility such as events, timeslots, reservations, etc."})]})})]}),a(x,{children:[i(T,{children:i(D,{type:"checkbox",label:i("span",{onClick:()=>Q(!Z),children:"I understand the consequences of this action"}),onChange:()=>Q(!Z),defaultChecked:Z})}),i(s,{color:"danger",onClick:()=>{(async e=>{try{if(404===(await c(`/facilities/delete/${e}`)).status)return O(!1),n("Error","Facility not found","danger");n("Success","Facility deleted successfully","success"),O(!1),ee()}catch(i){n("Error","An Error Occurred","danger"),O(!1)}})(W._id),K(!1)},disabled:!Z,children:"Delete"})]})]})})}),i(p,{children:i(f,{children:i(A,{isVisible:B,onClose:()=>{H(!1),$({}),ee()},isEdit:q,facilityData:P})})}),i(p,{children:i(f,{children:i(L,{isVisible:U,onClose:()=>{X(!1),$({}),ee()},facility:P})})})]})})};export{M as default};
