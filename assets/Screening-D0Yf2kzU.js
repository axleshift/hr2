import{r as e,f as a}from"./react-router-dom-BnDDw25P.js";import{z as i}from"./zod-B0zZW6rS.js";import{u as l}from"./react-hook-form-DB8hWBdy.js";import{s as r}from"./@hookform/resolvers/zod-1wp20Skh.js";import{m as n,A as t,j as s,a as c,g as d,F as o,k as m,x as h,w as p,y as u,p as f}from"./index-DiLnYbjC.js";import{A as y}from"./AppPagination-CAajZQ_e.js";import{F as b,O as g,P as x,z as v,Q as N,A as S,B as k,R as w}from"./index.es-BUpMRE3D.js";import{t as j,f as C}from"./index-BOi-5bX2.js";import{C as I,a as A,b as P}from"./CModalHeader-BDpLr51j.js";import{C as O}from"./CModalTitle-Cp-5Mm7J.js";import{C as F,a as L,b as E,c as R}from"./CTabList-CMUdfq-k.js";import{b as M,a as $}from"./DefaultLayout-Cau2R5kl.js";import{C as J}from"./CContainer-DzOuZpEx.js";import{C as z,a as T}from"./CRow-BNc0QFWW.js";import{C as B,a as V,b as _}from"./CFormLabel-DwEY-V3u.js";import{C as Y}from"./CFormInput-uT5SP9Ht.js";import{C as D}from"./CFormSelect-C1vm9vYc.js";import{C as W}from"./CFormTextarea-D1VEMpzQ.js";import{C as Q}from"./CFormRange-CUaN4TSW.js";import{C as q}from"./CInputGroup-CqBjsx_2.js";import{C as H,a as U}from"./CListGroupItem-R_-mYqmG.js";import{C as K,a as G}from"./CCardBody-BlNAuiwx.js";import{C as X,a as Z,b as ee,c as ae,d as ie,e as le}from"./CTable-Bp7z3h6O.js";import{C as re}from"./CTooltip-Dv1PmkHW.js";import"./ConfirmationDialog-DKnIDZMn.js";import{C as ne}from"./CModalFooter-DP7S936J.js";import{_ as te,a as se}from"./pdf-BlCXSU2z.js";import"./react-BF1r7_8g.js";import"./react-dom-DgB6LS8R.js";import"./index.esm-Dwb_M0UQ.js";import"./isRTL-D5ORmfro.js";const ce=["pending","reviewed","rejected","shortlisted"],de=["yes","no","needs further review","redirection"],oe=i.object({status:i.enum(ce),recommendation:i.enum(de),aiAnalysis:i.object({summary:i.string().min(3).max(1250),scoreBreakdown:i.object({experience:i.coerce.number().min(1).max(5).default(1),education:i.coerce.number().min(1).max(5).default(1),skills:i.coerce.number().min(1).max(5).default(1),motivation:i.coerce.number().min(1).max(5).default(1)}),comments:i.string().optional()})}),me=i.object({prompt:i.string().optional(),job:i.string().min(1,{message:"Please choose a job. If table is empty, make one via the Job management."})}),he=({isVisible:a,onClose:i,state:f,applicant:v})=>{const{addToast:N}=e.useContext(n),{userInformation:S}=e.useContext(t),[k,w]=e.useState("edit"),[$,ne]=e.useState(!1),[te,se]=e.useState(!1),[he,pe]=e.useState(!1),[ue,fe]=e.useState([]),[ye,be]=e.useState(!1),[ge,xe]=e.useState({}),[ve,Ne]=e.useState(""),[Se,ke]=e.useState(1),[we,je]=e.useState(9),[Ce,Ie]=e.useState(0),[Ae,Pe]=e.useState(0),[Oe,Fe]=e.useState(!1),[Le,Ee]=e.useState([]),[Re,Me]=e.useState([]),[$e,Je]=e.useState(""),[ze,Te]=e.useState(!1),[Be,Ve]=e.useState(1),[_e,Ye]=e.useState(9),[De,We]=e.useState(0),[Qe,qe]=e.useState(0),{register:He,handleSubmit:Ue,reset:Ke,setValue:Ge,watch:Xe,formState:{errors:Ze}}=l({resolver:async(e,a,i)=>await r(oe)(e,a,i)}),ea=async()=>{try{be(!0);const e=(ve?await h(`/applicant/screen/all/${v._id}?query=${ve}&page=${Se}&limit=${we}&sort=desc`):await h(`/applicant/screen/all/${v._id}?page=${Se}&limit=${we}&sort=desc`)).data;fe(e.data),Pe(e.totalItems),Ie(e.totalPages),ke(e.currentPage),be(!1)}catch(e){}},{register:aa,handleSubmit:ia,reset:la,setValue:ra,watch:na,formState:{errors:ta}}=l({resolver:async(e,a,i)=>await r(me)(e,a,i)}),sa=async e=>{try{Te(!0);const a=e?await h(`/job/all?query=${e}&page=${Be}&limit=${_e}`):await h(`/job/all?page=${Be}&limit=${_e}`);if(200===a.status)Te(!1),Ee(a.data.data),Ve(a.data.currentPage),qe(a.data.totalItems),We(a.data.totalPages);else Te(!1),Ee([]),Ve(1),qe(0),We(0)}catch(a){Te(!1)}};e.useEffect((()=>{a&&w(k)}),[a,k]),e.useEffect((()=>{a&&ea()}),[a,Se,Ce,Ae,ve]);return e.useEffect((()=>{if(Oe){const e=setTimeout((()=>{$e?sa($e):sa()}),500);return()=>clearTimeout(e)}}),[Oe,$e,Be,_e,De,Qe]),s(I,{visible:a,onClose:()=>{i(),Ke({status:"",recommendation:"",aiAnalysis:{summary:"",scoreBreakdown:{experience:1,education:1,skills:1,motivation:1},comments:""}})},size:"xl",backdrop:"static",children:[c(A,{children:c(O,{children:"create"===k&&"edit"===k?"Manage":"View"})}),c(P,{children:s(F,{activeItemKey:"form",children:[s(L,{variant:"tabs",children:[c(E,{itemKey:"form",children:"Form"}),c(E,{itemKey:"history",children:"History"})]}),s(M,{children:[c(R,{itemKey:"form",children:s(J,{children:[c(z,{children:c(T,{className:"mt-3 d-flex justify-content-end",children:c(d,{color:"primary",size:"sm",onClick:()=>se(!te),children:c(b,te?{icon:g}:{icon:x})})})}),s(z,{children:[c(T,{xs:12,md:te?12:6,children:s(B,{onSubmit:Ue((async e=>{try{pe(!0);const a=new FormData;let i;if(a.append("status",e.status),a.append("recommendation",e.recommendation),a.append("aiAnalysis",e.aiAnalysis),"edit"===k)i=await u(`/applicant/screen/${ge._id}`,e);else i=await p(`/applicant/screen/${v._id}`,e);200!==i.status&&201!==i.status||N("Success",i.data.message,"success"),pe(!1)}catch(a){N("Error","An error occurred","danger")}})),children:[c(z,{children:c(T,{children:c("h5",{children:"Screening Form"})})}),c(z,{className:"mb-3",children:c(T,{children:c(Y,{label:"Reviewer",defaultValue:`${S.lastname}, ${S.firstname}`,readOnly:!0})})}),c(z,{className:"mb-3",children:c(T,{children:c(d,{size:"sm",className:"aiBtn",onClick:()=>Fe(!0),children:"ðŸ¤– âœ¨ Analyze with A.I. âœ¨ ðŸ¤–"})})}),c(z,{className:"mb-3",children:s(T,{children:[c(D,{label:"Status",...He("status"),invalid:!!Ze.status,className:"text-capitalize",children:ce.map(((e,a)=>c("option",{value:e,className:"text-capitalize",children:e},a)))}),Ze.status&&c(V,{invalid:!0,children:Ze.status.message})]})}),$?c(z,{children:c(T,{className:"d-flex justify-content-center",children:s(o,{children:[c(m,{variant:"grow"}),c("span",{children:"Thinking... Beep Beep Boop Boop.."})]})})}):s(o,{children:[c(z,{className:"mb-3",children:s(T,{children:[c(D,{label:"Recommendation",...He("recommendation"),invalid:!!Ze.recommendation,className:"text-capitalize",children:de.map(((e,a)=>c("option",{value:e,className:"text-capitalize",children:e},a)))}),Ze.recommendation&&c(V,{invalid:!0,children:Ze.recommendation.message})]})}),c(z,{className:"mb-3",children:c(T,{children:c(W,{label:"Summary",rows:12,...He("aiAnalysis.summary")})})}),["experience","education","skills","motivation"].map((e=>c(z,{className:"mb-3",children:s(T,{children:[s("label",{children:[e.charAt(0).toUpperCase()+e.slice(1)," (",Xe(`aiAnalysis.scoreBreakdown.${e}`),")"]}),c(Q,{min:1,max:5,step:1,defaultValue:1,...He(`aiAnalysis.scoreBreakdown.${e}`,{valueAsNumber:!0})})]})},e))),c(z,{className:"mb-3",children:c(T,{children:c(W,{label:"Comments",rows:12,...He("aiAnalysis.comments")})})}),c(z,{className:"mb-3",children:c(T,{className:"d-flex justify-content-end",children:["admin","reviewer","manager"].includes(S.role)?c(d,{type:"submit",color:"primary",size:"sm",disabled:he,children:he?s(o,{children:[c(m,{size:"sm"})," Loading..."]}):"edit"===k?"Update":"Create"}):c(d,{color:"danger",size:"sm",disabled:!0,children:"No Permission"})})})]})]})}),s(T,{xs:12,md:te?12:6,children:[c(z,{className:"mb-3",children:c(T,{children:c("h5",{children:"Personal Information"})})}),c(z,{className:"mb-3",children:c(T,{children:c(Y,{label:"Applicant",defaultValue:`${v.lastname}, ${v.firstname}`,readOnly:!0})})}),c(z,{className:"mb-3",children:c(T,{children:c(Y,{label:"Email",defaultValue:v.email,readOnly:!0})})}),c(z,{className:"mb-3",children:c(T,{children:c(Y,{label:"Phone",defaultValue:v.phone,readOnly:!0})})}),c(z,{className:"mb-3",children:c(T,{children:c(Y,{label:"LinkedIn Profile",defaultValue:v.linkedInProfile,readOnly:!0})})}),c(z,{className:"mb-3",children:c(T,{children:c(Y,{label:"Portfolio Link",defaultValue:v.portfolioLink,readOnly:!0})})}),c(z,{children:c(T,{children:c("hr",{})})}),c(z,{className:"mb-2",children:c(T,{children:c("h5",{children:"Work Experience"})})}),c(z,{className:"mb-3",children:c(T,{children:c(Y,{label:"Years of Experience",defaultValue:v.yearsOfExperience,readOnly:!0})})}),c(z,{className:"mb-3",children:c(T,{children:c(Y,{label:"Current/Most Recent Job",defaultValue:v.currentMostRecentJob,readOnly:!0})})}),c(z,{className:"mb-3",children:c(T,{children:c(W,{label:"Key Skills",defaultValue:v.keySkills,readOnly:!0})})}),c(z,{className:"mb-3",children:c(T,{children:c(W,{label:"Current/Most Recent Job",defaultValue:v.softwareProficiency,readOnly:!0})})}),c(z,{className:"mb-3",children:c(T,{children:c(Y,{label:"Salary Expectation",defaultValue:v.salaryExpectation,readOnly:!0})})}),c(z,{className:"mb-3",children:c(T,{children:c(Y,{label:"Availability",defaultValue:v.availability,readOnly:!0})})}),c(z,{className:"mb-3",children:c(T,{children:c(Y,{label:"Job Applied For",defaultValue:v.jobAppliedFor,readOnly:!0})})}),c(z,{className:"mb-3",children:c(T,{children:c(W,{label:"Cover Letter",rows:6,defaultValue:v.coverLetter,readOnly:!0})})}),c(z,{className:"mb-3",children:c(T,{children:c(W,{label:"Why Interested in Role",rows:6,defaultValue:v.whyInterestedInRole,readOnly:!0})})}),c(z,{children:c(T,{children:c("hr",{})})}),c(z,{className:"mb-2",children:c(T,{children:c("h5",{children:"Education"})})}),c(z,{className:"mb-3",children:c(T,{children:c(Y,{label:"Highest Qualification",defaultValue:v.highestQualification,readOnly:!0})})}),c(z,{className:"mb-3",children:c(T,{children:c(Y,{label:"Major Field of Study",defaultValue:v.majorFieldOfStudy,readOnly:!0})})}),c(z,{className:"mb-3",children:c(T,{children:c(Y,{label:"Institution",defaultValue:v.institution,readOnly:!0})})}),c(z,{className:"mb-3",children:c(T,{children:c(Y,{label:"Graduation Year",defaultValue:v.graduationYear,readOnly:!0})})})]})]}),c(z,{children:c(T,{children:s(I,{visible:Oe,onClose:()=>{Fe(!1),la({prompt:"",job:""}),Me({})},size:"xl",children:[c(A,{children:c(O,{children:"Create a prompt"})}),c(P,{children:s(J,{children:[c(z,{className:"mb-3",children:c(T,{children:s(q,{children:[c(Y,{placeholder:"Search job",onChange:e=>Je(e.target.value)}),c(d,{type:"submit",color:"primary",size:"sm",onClick:()=>sa(),children:"Search"})]})})}),c(z,{children:c(T,{children:ze?c("div",{className:"pt-3 text-center",children:c(m,{color:"primary",variant:"grow",size:"sm"})}):0===Le.length?c("div",{className:"text-center",children:"No Jobs Found"}):c(H,{children:Le.map((e=>s(U,{className:"d-flex justify-content-between align-items-start",children:[s("div",{className:"ms-2 me-auto",children:[c("div",{className:"fw-bold",children:e.title}),s("small",{children:[c("strong",{children:"Author:"}),"string"==typeof Re.author?Re.author:Re.author&&Re.author.firstname?`${Re.author.firstname} ${Re.author.lastname}`:"Unknown"]}),s("small",{children:[c("strong",{children:"Responsibilities:"}),j(e.responsibilities,50)]}),c("br",{}),s("small",{children:[c("strong",{children:"Requirements:"}),j(e.requirements,50)]}),c("br",{}),s("small",{children:[c("strong",{children:"Qualifications:"}),j(e.qualifications,50)]}),c("br",{}),s("small",{children:[c("strong",{children:"Benefits:"})," ",j(e.benefits,50)]})]}),c(d,{color:"primary",size:"sm",onClick:()=>{Me(e),la({job:e.title})},children:"Choose"})]},e._id)))})})}),c(z,{className:"mt-2",children:c(T,{children:c("div",{className:"d-flex flex-row gap-2 justify-content-center align-items-center",children:c(y,{currentPage:Be,totalPages:De,onPageChange:Ve})})})}),c(z,{className:"mt-3",children:c(T,{children:s(B,{onSubmit:ia((async e=>{try{Fe(!1),ne(!0);const a=new FormData;e&&a.append("customPrompt",e.prompt);const i="edit"===f?await h(`/applicant/screen/ai/${v._id}/${Re._id}/${ge._id}`,e):await h(`/applicant/screen/ai/${v._id}/${Re._id}`,e),l=i.data.data;if(200===i.status)ne(!1),N("Success",i.data.message,"success"),Ke({recommendation:l.recommendation,aiAnalysis:{summary:l.aiAnalysis.summary,scoreBreakdown:{experience:l.aiAnalysis.scoreBreakdown.experience,education:l.aiAnalysis.scoreBreakdown.education,skills:l.aiAnalysis.scoreBreakdown.skills,motivation:l.aiAnalysis.scoreBreakdown.motivation},comments:l.aiAnalysis.comments}}),Fe(!1);else ne(!1),N("Error",i.data.message,"error"),Fe(!1)}catch(a){ne(!1),Fe(!1)}})),children:[c(z,{className:"mb-3",children:s(T,{children:[s(_,{children:[c("span",{className:"text-danger",children:"*"}),"Job"]}),c(Y,{placeholder:"Choose from table above",...aa("job"),invalid:!!ta.job}),ta.job&&c(V,{invalid:!0,children:ta.job.message})]})}),c(z,{children:c(T,{children:c("p",{children:c("small",{className:"text-muted",children:"Custom A.I. Task here. This could be anything! If Empty the system will use the default one but expect it to be not as you liked. Also, be very careful with this, this thing could break it. Leave empty if possible."})})})}),c(z,{children:s(T,{className:"mb-3",children:[s(_,{children:["Custom Prompt",c("small",{className:"text-muted text-danger",children:"(Do not use if possible)"})]}),c(W,{rows:6,...aa("prompt"),invalid:!!ta.prompt}),ta.prompt&&c(V,{invalid:!0,children:ta.prompt.message})]})}),c(z,{children:c(T,{children:c(d,{type:"submit",size:"sm",className:"aiBtn",disabled:$,children:$?s(o,{children:[c(m,{size:"sm"})," Loading..."]}):"Submit"})})})]})})})]})})]})})})]})}),c(R,{itemKey:"history",children:s(J,{children:[c(z,{className:"mt-3",children:c(T,{className:"d-flex justify-content-end",children:c(d,{color:"primary",size:"sm",onClick:()=>{ea()},children:"Refresh"})})}),c(z,{className:"mb-3 mt-3",children:c(T,{children:c(K,{children:c(G,{children:s(X,{align:"middle",hover:!0,responsive:!0,striped:!0,children:[c(Z,{children:s(ee,{children:[c(ae,{children:"Reviewer"}),c(ae,{children:"Status"}),c(re,{placement:"top",content:"Recommendation",children:c(ae,{children:j("Recommendation",5)})}),c(ae,{children:"Job"}),c(ae,{children:"Summary"}),c(ae,{children:"Created"}),c(ae,{children:"Actions"})]})}),c(ie,{children:ye?c(ee,{children:c(le,{colSpan:"12",children:c("div",{className:"pt-3 text-center",children:c(m,{color:"primary",variant:"grow"})})})}):0===ue.length?c(ee,{children:c(le,{colSpan:"12",children:c("div",{className:"text-center",children:"No Screening History Found"})})}):ue.map((e=>{var a,i;return s(ee,{children:[s(le,{children:[e.reviewer.lastname,", ",e.reviewer.firstname]}),c(le,{children:e.status}),c(le,{children:e.recommendation}),c(le,{children:(null==(a=e.job)?void 0:a.title)?null==(i=e.job)?void 0:i.title:"Can't find job. Perhaps deleted."}),c(le,{children:c("small",{children:j(e.aiAnalysis.summary,50)})}),c(le,{children:C(e.createdAt,"MMM DD YYYY h:mm A")}),c(le,{children:c(d,{color:"primary",size:"sm",onClick:()=>{(async e=>{try{xe(e),Ke({status:e.status,recommendation:e.recommendation,aiAnalysis:{summary:e.aiAnalysis.summary,scoreBreakdown:{experience:e.aiAnalysis.scoreBreakdown.experience,education:e.aiAnalysis.scoreBreakdown.education,skills:e.aiAnalysis.scoreBreakdown.skills,motivation:e.aiAnalysis.scoreBreakdown.motivation},comments:e.aiAnalysis.comments}}),N("Success","Applicant screening fetched. Change to forms tab.","success")}catch(a){}})(e),w("edit")},children:"Edit"})})]},e._id)}))})]})})})})}),c(z,{children:c(T,{children:c("div",{className:"d-flex flex-row gap-2 justify-content-center align-items-center",children:c(y,{currentPage:Se,totalPages:Ce,onPageChange:ke})})})})]})})]})]})})]})};he.propTypes={isVisible:f.bool.isRequired,onClose:f.func.isRequired,state:f.string.isRequired,applicant:f.object},se.workerSrc=`//unpkg.com/pdfjs-dist@${te}/build/pdf.worker.min.mjs`;const pe=()=>{const{addToast:o}=e.useContext(n),{userInformation:f}=e.useContext(t),[g,x]=e.useState(!1),[C,F]=e.useState(!1),[L,E]=e.useState(null),[R,M]=e.useState(1),[Q,H]=e.useState({}),[U,te]=e.useState([]),[se,ce]=e.useState(!1),[de,oe]=e.useState(""),[me,pe]=e.useState(!1),[ue,fe]=e.useState(!1),[ye,be]=e.useState(!1),[ge,xe]=e.useState(!1),[ve,Ne]=e.useState(""),[Se,ke]=e.useState({}),[we,je]=e.useState([]),[Ce,Ie]=e.useState([]),[Ae,Pe]=e.useState(""),[Oe,Fe]=e.useState(!1),[Le,Ee]=e.useState(!1),[Re,Me]=e.useState(1),[$e,Je]=e.useState(9),[ze,Te]=e.useState(0),[Be,Ve]=e.useState(0),[_e,Ye]=e.useState(!1),[De,We]=e.useState(!1),[Qe,qe]=e.useState("view"),[He,Ue]=e.useState(!1),[Ke,Ge]=e.useState(!1),[Xe,Ze]=e.useState(null),[ea,aa]=e.useState(1),ia=a(),la=i.object({id:i.string().optional(),firstname:i.string().min(2,{message:"First name must be at least 2 characters long"}).max(255,{message:"First name must be at most 255 characters long"}),lastname:i.string().min(2,{message:"Last name must be at least 3 characters long"}).max(255,{message:"Last name must be at most 255 characters long"}),middlename:i.string().optional(),suffix:i.string().optional(),email:i.string().email(),phone:i.string().min(10).max(20).refine((e=>null!==e.match(/^[0-9]+$/)),{message:"Phone number must be numeric"}),address:i.string().min(10).max(255),prefferedWorkLocation:i.string().min(1).max(250),linkedInProfile:i.string().optional(),portfolioLink:i.string().optional(),yearsOfExperience:i.number().int().positive(),currentMostRecentJob:i.string(),highestQualification:i.enum(["none","elementary","high school","college","masters","phd"]),majorFieldOfStudy:i.string().min(2).max(255),institution:i.string().min(2).max(255),graduationYear:i.number().int().positive(),keySkills:i.string().min(2).max(255),softwareProficiency:i.string().min(2).max(255),certifications:i.string().optional(),coverLetter:i.string().optional(),salaryExpectation:i.number().int().positive(),availability:i.string().min(2).max(255),jobAppliedFor:i.string().min(2).max(255),whyInterestedInRole:i.string().min(2).max(255)}),{register:ra,handleSubmit:na,reset:ta,formState:{errors:sa}}=l({resolver:r(la)}),ca=()=>{F(!1),xe(!1),Ie([])},da=async(e,a)=>{try{ce(!0);const i=me?await h(`/applicant/search?query=${de}&page=${e}&limit=${a}&tags=`):await h(`/applicant/all?page=${e}&limit=${a}&showRejected=${ue}`);200===i.status||201===i.status?(te(i.data.data),Me(i.data.currentPage),Te(i.data.totalPages),Ve(i.data.totalItems||0),ce(!1)):(o("Applicants",i.message.message,"danger"),ce(!1),pe(!1),te([]))}catch(i){o("Error","An error occurred","danger"),ce(!1)}},oa=()=>{ta({firstname:"",lastname:"",middlename:"",suffix:"",email:"",phone:"",address:"",prefferedWorkLocation:"Remote",linkedInProfile:"",portfolioLink:"",yearsOfExperience:2,currentMostRecentJob:"",highestQualification:"",majorFieldOfStudy:"",institution:"",graduationYear:1990,keySkills:"",softwareProficiency:"",certifications:"",coverLetter:"",salaryExpectation:1e4,availability:"",jobAppliedFor:"",whyInterestedInRole:"",file:[]}),x(!1)},ma=i.object({name:i.string().min(2,{message:"Tag must be at least 2 characters long"}).max(255,{message:"Tag must be at most 255 characters long"})}),{register:ha,handleSubmit:pa,formState:{errors:ua}}=l({resolver:r(ma)}),fa=async()=>{try{Fe(!0);const e="applicant",a=await h(`/tags/category/${e}`);200===a.status?(je(a.data.data),Fe(!1)):(o("Error","An error occurred","danger"),Fe(!1))}catch(e){o("Error","An error occurred","danger")}},ya=i.object({searchInput:i.string().min(1,{message:"Search query is required"})}),{register:ba,handleSubmit:ga,formState:{errors:xa}}=l({resolver:r(ya)});return e.useEffect((()=>{const e=setTimeout((()=>{da(),fa()}),500);return()=>{clearTimeout(e)}}),[Re,ze,Be,de,me]),s(J,{className:"d-flex flex-column gap-2 mb-3",children:[c(z,{children:s(T,{children:[c("h2",{children:"Screening "}),s("small",{children:["In this page, you can view, edit, delete, and you can view applicant resume's for screening then ",c("span",{className:"text-info",children:"shorlist"})," them. You can also create new applicants ",c("s",{children:"and download their resumes"}),"."]})]})}),c(z,{children:c(T,{children:c("div",{className:"d-flex justify-content-end",children:c(d,{color:"primary",size:"sm",onClick:()=>{x(!g),be(!1),Ie([]),Ze(null)},children:"Create"})})})}),c(z,{children:c(T,{children:s(I,{visible:g,size:"lg",onClose:()=>{x(!1),oa()},children:[c(A,{children:s(O,{children:["Resume Form"," ",c("span",{className:ye?"text-danger":"text-success",children:c("small",{children:ye?"Edit Mode":"Create Mode"})})]})}),c(P,{children:c(B,{onSubmit:na((e=>{try{const a={...e,tags:Ce.map((e=>e._id))};x(!1),F(!0),H(a)}catch(a){o("Error","An error occurred","danger")}})),children:s(J,{children:[s(z,{children:[c(T,{children:c("h2",{children:"Personal Information"})}),["admin"].includes(f.role)&&c(T,{children:c(d,{color:"primary",size:"sm",onClick:()=>{ta({firstname:"John",lastname:"Doe",middlename:"A",suffix:"Jr.",email:"john.doe@example.com",phone:"09171234567",address:"123 Mockingbird Lane",preferredWorkLocation:"Manila",linkedInProfile:"https://linkedin.com/in/johndoe",portfolioLink:"https://johndoe.dev",yearsOfExperience:5,currentMostRecentJob:"Frontend Developer",highestQualification:"college",majorFieldOfStudy:"Computer Science",institution:"Mock University",graduationYear:2020,keySkills:"JavaScript, React, CSS",softwareProficiency:"VSCode, Git, Figma",certifications:"AWS Certified Developer",coverLetter:"I am excited to apply for this role...",salaryExpectation:7e4,availability:"Immediately",jobAppliedFor:"Web Developer",whyInterestedInRole:"The role aligns with my goals and experience.",ids:{TIN:"123-456-789",SSS:"12-3456789-0",philHealth:"1234-5678-9012",pagIBIGFundNumber:"1234-5678-9012"},files:{}})},children:"Fill Mock Data"})})]}),c(z,{children:c(T,{className:"d-flex justify-content-end",children:c(re,{placement:"top",content:"Print (unavailable)",children:c(d,{color:"primary",size:"sm",children:c(b,{icon:v})})})})}),c(z,{children:s(T,{className:"visually-hidden",children:[c(Y,{type:"text",id:"id",placeholder:"...",label:"ID",...ra("id"),invalid:!!sa.id}),sa.id&&c(V,{className:"text-danger",children:sa.id.message})]})}),s(z,{className:"mt-3",children:[s(T,{md:6,children:[c(Y,{type:"text",id:"firstname",placeholder:"John Sr.",label:"First Name",...ra("firstname"),invalid:!!sa.firstname}),sa.firstname&&c(V,{className:"text-danger",children:sa.firstname.message})]}),s(T,{md:6,children:[c(Y,{type:"text",id:"lastname",placeholder:"Doe",label:"Last Name",...ra("lastname"),invalid:!!sa.lastname}),sa.lastname&&c(V,{className:"text-danger",children:sa.lastname.message})]})]}),s(z,{className:"mt-3",children:[s(T,{md:6,children:[c(Y,{type:"text",id:"middlename",placeholder:"John Sr.",label:"Middle Name",...ra("middlename"),invalid:!!sa.middlename}),sa.middlename&&c(V,{className:"text-danger",children:sa.middlename.message})]}),s(T,{md:6,children:[c(Y,{type:"text",id:"suffix",placeholder:"Jr.",label:"Suffix",...ra("suffix"),invalid:!!sa.suffix}),sa.suffix&&c(V,{className:"text-danger",children:sa.suffix.message})]})]}),c(z,{className:"mt-3",children:s(T,{children:[c(Y,{type:"email",id:"email",placeholder:"user@mail.com",label:"Email",...ra("email"),invalid:!!sa.email}),sa.email&&c(V,{className:"text-danger",children:sa.email.message})]})}),c(z,{className:"mt-3",children:s(T,{children:[c(Y,{type:"text",id:"phone",placeholder:"1234567890",label:"Phone",...ra("phone"),invalid:!!sa.phone}),sa.phone&&c(V,{className:"text-danger",children:sa.phone.message})]})}),c(z,{className:"mt-3",children:s(T,{children:[c(W,{id:"address",placeholder:"City, Country",label:"Address",...ra("address"),invalid:!!sa.address,className:"scalableCFormTextArea-200"}),sa.address&&c(V,{className:"text-danger",children:sa.address.message})]})}),c(z,{className:"mt-3",children:s(T,{children:[c(Y,{id:"prefferedWorkLocation",label:"Preffered Work Location",...ra("prefferedWorkLocation"),invalid:!!sa.prefferedWorkLocation}),sa.prefferedWorkLocation&&c(V,{className:"text-danger",children:sa.prefferedWorkLocation.message})]})}),c(z,{className:"mt-3",children:s(T,{children:[c(Y,{type:"text",id:"linkedInProfile",placeholder:"https://www.linkedin.com/in/example",label:"LinkedIn Profile",...ra("linkedInProfile"),invalid:!!sa.linkedInProfile}),sa.linkedInProfile&&c(V,{className:"text-danger",children:sa.linkedInProfile.message})]})}),c(z,{className:"mt-3",children:s(T,{children:[c(Y,{type:"text",id:"portfolioLink",placeholder:"https://www.github.com/example",label:"Porfolio (URL)",...ra("portfolioLink"),invalid:!!sa.portfolioLink}),sa.portfolioLink&&c(V,{className:"text-danger",children:sa.portfolioLink.message})]})}),c(z,{className:"mt-3",children:s(T,{children:[c("hr",{}),c("h2",{children:"Professional Background"})]})}),c(z,{className:"mt-3",children:s(T,{children:[c(Y,{type:"number",id:"yearsOfExperience",placeholder:"0",label:"Years of Experience",...ra("yearsOfExperience",{valueAsNumber:!0}),invalid:!!sa.yearsOfExperience}),sa.yearsOfExperience&&c(V,{className:"text-danger",children:sa.yearsOfExperience.message})]})}),c(z,{className:"mt-3",children:s(T,{children:[c(Y,{type:"text",id:"currentMostRecentJob",placeholder:"Software Developer",label:"Current/Most Recent Job",...ra("currentMostRecentJob"),invalid:!!sa.currentMostRecentJob}),sa.currentMostRecentJob&&c(V,{className:"text-danger",children:sa.currentMostRecentJob.message})]})}),c(z,{className:"mt-3",children:s(T,{children:[c("hr",{}),c("h2",{children:"Educational Background"})]})}),c(z,{className:"mt-3",children:s(T,{children:[c(D,{id:"highestQualification",label:"Highest Qualification",...ra("highestQualification"),invalid:!!sa.highestQualification,options:[{value:"none",label:"None"},{value:"elementary",label:"Elementary"},{value:"high school",label:"High School"},{value:"college",label:"College"},{value:"masters",label:"Masters"},{value:"phd",label:"PhD"}]}),sa.highestQualification&&c(V,{className:"text-danger",children:sa.highestQualification.message})]})}),c(z,{className:"mt-3",children:s(T,{children:[c(Y,{type:"text",id:"majorFieldOfStudy",placeholder:"Computer Science",label:"Major Field of Study",...ra("majorFieldOfStudy"),invalid:!!sa.majorFieldOfStudy}),sa.majorFieldOfStudy&&c(V,{className:"text-danger",children:sa.majorFieldOfStudy.message})]})}),c(z,{className:"mt-3",children:s(T,{children:[c(Y,{type:"text",id:"institution",placeholder:"University of Lagos",label:"Institution",...ra("institution"),invalid:!!sa.institution}),sa.institution&&c(V,{className:"text-danger",children:sa.institution.message})]})}),c(z,{className:"mt-3",children:s(T,{children:[c(Y,{type:"number",id:"graduationYear",placeholder:"2021",label:"Graduation Year",...ra("graduationYear",{valueAsNumber:!0}),invalid:!!sa.graduationYear}),sa.graduationYear&&c(V,{className:"text-danger",children:sa.graduationYear.message})]})}),c(z,{className:"mt-3",children:s(T,{children:[c("hr",{}),c("h2",{children:"Skills and Qualification"})]})}),c(z,{children:s(T,{children:[c(W,{id:"keySkills",placeholder:"React, NodeJS, MongoDB",label:"Key Skills",...ra("keySkills"),invalid:!!sa.keySkills,className:"scalableCFormTextArea-200"}),sa.keySkills&&c(V,{className:"text-danger",children:sa.keySkills.message})]})}),c(z,{className:"mt-3",children:s(T,{children:[c(W,{id:"softwareProficiency",placeholder:"MS Office, Adobe Suite",label:"Software Proficiency",...ra("softwareProficiency"),invalid:!!sa.softwareProficiency,className:"scalableCFormTextArea-200"}),sa.softwareProficiency&&c(V,{className:"text-danger",children:sa.softwareProficiency.message})]})}),c(z,{className:"mt-3",children:s(T,{children:[c(W,{id:"certifications",placeholder:"Certification 1, Certification 2",label:"Certifications",...ra("certifications"),invalid:!!sa.certifications,className:"scalableCFormTextArea-200"}),sa.certifications&&c(V,{className:"text-danger",children:sa.certifications.message})]})}),c(z,{className:"mt-3",children:s(T,{children:[c("hr",{}),c("h2",{children:"Job Specific Questions"})]})}),c(z,{className:"mt-3",children:s(T,{children:[c(W,{id:"coverLetter",placeholder:"Cover Letter",label:"Cover Letter",...ra("coverLetter"),invalid:!!sa.coverLetter,className:"scalableCFormTextArea-200"}),sa.coverLetter&&c(V,{className:"text-danger",children:sa.coverLetter.message})]})}),c(z,{className:"mt-3",children:s(T,{children:[c(Y,{type:"number",id:"salaryExpectation",placeholder:"50000",label:"Salary Expectation Per Month",...ra("salaryExpectation",{valueAsNumber:!0}),invalid:!!sa.salaryExpectation}),sa.salaryExpectation&&c(V,{className:"text-danger",children:sa.salaryExpectation.message})]})}),c(z,{className:"mt-3",children:s(T,{children:[c(Y,{type:"text",id:"availability",placeholder:"Immediate",label:"Availability",...ra("availability"),invalid:!!sa.availability}),sa.availability&&c(V,{className:"text-danger",children:sa.availability.message})]})}),c(z,{className:"mt-3",children:s(T,{children:[c(Y,{type:"text",id:"jobAppliedFor",placeholder:"Software Developer",label:"Job Applied For",...ra("jobAppliedFor"),invalid:!!sa.jobAppliedFor}),sa.jobAppliedFor&&c(V,{className:"text-danger",children:sa.jobAppliedFor.message})]})}),c(z,{className:"mt-3",children:s(T,{children:[c(W,{id:"whyInterestedInRole",placeholder:"lorem ipsum...",label:"Why Interested in Role?",...ra("whyInterestedInRole"),invalid:!!sa.whyInterestedInRole,className:"scalableCFormTextArea-200"}),sa.whyInterestedInRole&&c(V,{className:"text-danger",children:sa.whyInterestedInRole.message})]})}),c(z,{className:"mt-3",children:s(T,{children:[c(_,{htmlFor:"tag",children:"Tags"}),s(z,{children:[we.map((e=>c(T,{xs:"auto",children:c(q,{children:c($,{onClick:()=>(e=>{const a=we.find((a=>a._id===e));Ce.some((e=>e._id===a._id))?Ie((e=>e.filter((e=>e._id!==a._id)))):Ie((e=>[...e,a]))})(e._id),className:Ce.some((a=>a._id===e._id))?"btn btn-primary":"btn btn-outline-primary",style:{cursor:"pointer"},children:e.name})})},e._id))),c(T,{children:c(re,{content:"Add tag",children:c($,{className:"btn btn-success mx-2",onClick:()=>Ee(!0),children:c(b,{icon:N})})})})]})]})}),c(z,{className:"mt-3",children:c(T,{className:"d-flex justify-content-end mt-2",children:c(d,{type:"submit",color:"primary",size:"sm",children:ye?"Update":"Submit"})})})]})})})]})})}),c(z,{children:c(T,{children:c(B,{onSubmit:ga((async e=>{try{pe(!0),oe(e.searchInput),da()}catch(a){o("Error","An error occurred","danger")}})),className:"d-flex flex-row gap-2 justify-content-end align-items-center",children:s(q,{children:[c(Y,{type:"text",id:"searchInput",name:"searchInput",placeholder:"Search...",...ba("searchInput"),invalid:!!xa.searchInput}),c(re,{content:"Search",placement:"top",children:c(d,{type:"submit",className:"btn btn-primary",children:c(b,{icon:S})})}),c(re,{content:"Reset",placement:"top",children:c(d,{onClick:()=>(async()=>{pe(!1),oe(""),da()})(),type:"button",className:"btn btn-primary",children:c(b,{icon:k})})})]})})})}),c(z,{className:"mb-3",children:c(T,{className:"d-flex justify-content-end",children:c(d,{color:ue?"danger":"primary",onClick:()=>fe((e=>!e)),children:ue?"Hide Rejected":"Allow Reject"})})}),c(z,{className:"mt-2",children:c(J,{children:c(K,{children:c(G,{children:s(X,{align:"middle",hover:!0,responsive:!0,striped:!0,children:[c(Z,{children:s(ee,{children:[c(ae,{children:c("strong",{children:"#"})}),c(ae,{children:"Applicant"}),c(ae,{children:"Email"}),c(ae,{children:"Phone"}),c(ae,{children:"Tags"}),c(ae,{children:"Actions"})]})}),c(ie,{children:se?c(ee,{children:c(le,{colSpan:"6",children:c("div",{className:"pt-3 text-center",children:c(m,{color:"primary",variant:"grow"})})})}):U.map(((e,a)=>s(ee,{children:[c(le,{children:c("small",{children:j(e._id,10)})}),s(le,{children:[e.firstname,", ",e.lastname," ",null==e?void 0:e.middlename]}),c(le,{children:e.email}),c(le,{children:e.phone}),c(le,{children:s("div",{className:"d-flex flex-wrap",children:[e.tags.map(((e,a)=>{var i;const l=null==(i=we.find((a=>a._id===e)))?void 0:i.name;return c($,{shape:"rounded-pill",color:"primary",className:"me-1 mb-1",children:l},a)})),e.statuses.journey.isShortlisted&&c($,{shape:"rounded-pill",color:"success",className:"me-1 mb-1",children:"Shortlisted"}),e.statuses.journey.isInitialInterview&&c($,{shape:"rounded-pill",color:"success",className:"me-1 mb-1",children:"Initial Interview"}),e.statuses.journey.isTechnicalInterview&&c($,{shape:"rounded-pill",color:"success",className:"me-1 mb-1",children:"Technical Interview"}),e.statuses.journey.isPanelInterview&&c($,{shape:"rounded-pill",color:"success",className:"me-1 mb-1",children:"Panel Interview"}),e.statuses.journey.isBehavioralInterview&&c($,{shape:"rounded-pill",color:"success",className:"me-1 mb-1",children:"Behavioral Interview"}),e.statuses.journey.isFinalInterview&&c($,{shape:"rounded-pill",color:"success",className:"me-1 mb-1",children:"Final Interview"}),e.statuses.journey.isJobOffer&&c($,{shape:"rounded-pill",color:"success",className:"me-1 mb-1",children:"Job Offered"}),e.statuses.journey.isHired&&c($,{shape:"rounded-pill",color:"success",className:"me-1 mb-1",children:"Initial Interview"})]})}),c(le,{children:s("div",{className:"d-flex flex-row gap-2",children:[c(re,{content:"Screen Applicant",placement:"top",children:c(d,{color:"success",variant:"outline",size:"sm",onClick:()=>{ke(e),Ye(!0),qe("create")},children:c(b,{icon:w})})}),c(d,{color:"warning",size:"sm",onClick:()=>(e=>{try{ia(`/applicant/profile/${e}`)}catch(a){}})(e._id),children:"Manage"})]})})]},a)))})]})})})})}),c(z,{children:c("div",{className:"d-flex flex-row gap-2 justify-content-center align-items-center",children:c(y,{currentPage:Re,totalPages:ze,onPageChange:Me})})}),s(z,{children:[s(I,{scrollable:!0,alignment:"center",visible:C,onClose:()=>ca(),size:"xl",children:[c(A,{children:s(O,{children:["Preview ",ye?"Update":"Submission"]})}),Q&&s(P,{children:[c("div",{className:"h6 fw-bold",children:"Please check the details before submitting."}),s(J,{className:"d-flex flex-column gap-3",children:[s(z,{children:[c(T,{children:c(Y,{type:"text",id:"firstname",placeholder:"John Sr.",label:"First Name",readOnly:!0,value:Q.firstname})}),c(T,{children:c(Y,{type:"text",id:"lastname",placeholder:"Doe",label:"Last Name",readOnly:!0,value:Q.lastname})})]}),c(z,{children:c(T,{children:c(Y,{type:"email",id:"email",placeholder:"",label:"Email",readOnly:!0,value:Q.email})})}),c(z,{children:c(T,{children:c(Y,{type:"text",id:"phone",placeholder:"",label:"Phone",readOnly:!0,value:Q.phone})})}),c(z,{children:c(T,{children:c(W,{id:"address",placeholder:"",label:"Address",readOnly:!0,value:Q.address})})}),c(z,{children:c(T,{children:c(Y,{type:"text",id:"prefferedWorkLocation",placeholder:"",label:"Preffered Work Location",readOnly:!0,value:Q.prefferedWorkLocation})})}),c(z,{children:c(T,{children:c(Y,{type:"text",id:"linkedInProfile",placeholder:"",label:"LinkedIn Profile",readOnly:!0,value:Q.linkedInProfile})})}),c(z,{children:c(T,{children:c(Y,{type:"text",id:"portfolioLink",placeholder:"",label:"Portfolio URL",readOnly:!0,value:Q.portfolioLink})})}),c(z,{children:c(T,{children:c(Y,{type:"number",id:"yearsOfExperience",placeholder:"",label:"Years of Experience",readOnly:!0,value:Q.yearsOfExperience})})}),c(z,{children:c(T,{children:c(Y,{type:"text",id:"currentMostRecentJob",placeholder:"",label:"Current/Most Recent Job",readOnly:!0,value:Q.currentMostRecentJob})})}),c(z,{children:c(T,{children:c(Y,{type:"text",id:"highestQualification",placeholder:"",label:"Highest Qualification",readOnly:!0,value:Q.highestQualification})})}),c(z,{children:c(T,{children:c(Y,{type:"text",id:"majorFieldOfStudy",placeholder:"",label:"Major Field Of Study",readOnly:!0,value:Q.majorFieldOfStudy})})}),c(z,{children:c(T,{children:c(Y,{type:"text",id:"institution",placeholder:"",label:"Institution",readOnly:!0,value:Q.institution})})}),c(z,{children:c(T,{children:c(Y,{type:"number",id:"graduationYear",placeholder:"",label:"Graduation Year",readOnly:!0,value:Q.graduationYear})})}),c(z,{children:c(T,{children:c(W,{id:"keySkills",placeholder:"",label:"Key Skills",readOnly:!0,value:Q.keySkills})})}),c(z,{children:c(T,{children:c(W,{id:"softwareProficiency",placeholder:"",label:"Software Proficiency",readOnly:!0,value:Q.softwareProficiency})})}),c(z,{children:c(T,{children:c(W,{id:"certifications",placeholder:"",label:"Certifications",readOnly:!0,value:Q.certifications})})}),c(z,{children:c(T,{children:c(W,{id:"coverLetter",placeholder:"",label:"Cover Letter",readOnly:!0,value:Q.coverLetter})})}),c(z,{children:c(T,{children:c(Y,{type:"number",id:"salaryExpectation",placeholder:"",label:"Salary Expectation",readOnly:!0,value:Q.salaryExpectation})})}),c(z,{children:c(T,{children:c(Y,{type:"text",id:"availability",placeholder:"",label:"Availability",readOnly:!0,value:Q.availability})})}),c(z,{children:c(T,{children:c(Y,{type:"text",id:"jobAppliedFor",placeholder:"",label:"Job Applied For",readOnly:!0,value:Q.jobAppliedFor})})}),c(z,{children:c(T,{children:c(W,{id:"whyInterestedInRole",placeholder:"",label:"Why Interested in Role?",readOnly:!0,value:Q.whyInterestedInRole})})}),c(z,{children:s(T,{children:[c(_,{htmlFor:"tag",children:"Tags"}),c(z,{className:"d-flex flex-row gap-2 justify-content-start",children:Ce.map(((e,a)=>c(T,{children:c(q,{children:c(d,{...ra(`tags[${a}]`),className:"btn btn-primary text-uppercase",style:{width:"100%"},children:e.name})})},e._id)))})]})})]}),c("hr",{})]}),s(ne,{children:[c("div",{children:s("div",{className:"form-check d-flex justify-content-end",children:[c("input",{className:"form-check-input me-2",type:"checkbox",id:"flexCheckDefault",onChange:()=>xe(!ge)}),s("label",{className:"form-check-label",htmlFor:"flexCheckDefault",children:["I have checked the details and I am ready to"," ",c("span",ye?{className:"text-info",children:"update"}:{className:"text-success",children:"create"}),"the data."]})]})}),He?s(d,{color:"primary",disabled:!0,children:[c(m,{size:"sm"})," Loading.."]}):c(d,{color:"primary",size:"sm",onClick:()=>(async()=>{try{Ue(!0);const e=new FormData;e.append("firstname",Q.firstname),e.append("lastname",Q.lastname),e.append("middlename",Q.middlename),e.append("suffix",Q.suffix),e.append("email",Q.email),e.append("phone",Q.phone),e.append("address",Q.address),e.append("prefferedWorkLocation",Q.prefferedWorkLocation),e.append("linkedInProfile",Q.linkedInProfile),e.append("portfolioLink",Q.portfolioLink),e.append("yearsOfExperience",Q.yearsOfExperience),e.append("currentMostRecentJob",Q.currentMostRecentJob),e.append("highestQualification",Q.highestQualification),e.append("majorFieldOfStudy",Q.majorFieldOfStudy),e.append("institution",Q.institution),e.append("graduationYear",Q.graduationYear),e.append("keySkills",Q.keySkills),e.append("softwareProficiency",Q.softwareProficiency),e.append("certifications",Q.certifications),e.append("coverLetter",Q.coverLetter),e.append("salaryExpectation",Q.salaryExpectation),e.append("availability",Q.availability),e.append("jobAppliedFor",Q.jobAppliedFor),e.append("whyInterestedInRole",Q.whyInterestedInRole),e.append("tags",Q.tags);const a=ye?await u(`/applicant/${Q.id}`,e):await p("/applicant",e);200===a.status||201===a.status?(o("Success",a.data.message,"success"),da(),oa(),ca()):o("Error",a.message.message,"danger")}catch(e){o("Error","an error occured","danger")}finally{Ue(!1)}})(),disabled:!ge,children:ye?"Update":"Submit"})]})]}),s(I,{alignment:"center",visible:Le,onClose:()=>Ee(!1),size:"sm",children:[c(A,{children:c(O,{children:"Add Applicant Tag"})}),c(P,{children:s(B,{onSubmit:pa((async e=>{try{const a={name:e.name,category:"applicant"},i=await p("/tags",a);200===i.status||201===i.status?(o("Success",i.data.message,"success"),fa(),Ee(!1)):o("Error","An error occurred","danger")}catch(a){o("Error","An error occurred","danger")}})),className:"d-flex flex-column gap-2",children:[c(Y,{type:"text",id:"name",placeholder:"Enter tag",...ha("name"),invalid:!!ua.name}),ua.name&&c(V,{className:"text-danger",children:ua.name.message}),c(d,{type:"submit",className:"btn btn-success",children:"Add Tag"})]})})]})]}),c(z,{children:c(T,{children:c(he,{isVisible:_e,onClose:()=>{Ye(!1),Ne(""),qe("view")},state:Qe,applicant:Se,docCategory:"screening"})})})]})};export{pe as default};
