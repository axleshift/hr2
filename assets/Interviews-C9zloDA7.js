import{r as e}from"./react-router-dom-BnDDw25P.js";import{F as r,A as i,B as t}from"./index.es-zCGtViIf.js";import{A as s,a,F as o,j as n,g as l,w as c}from"./index-qBjud34N.js";import{t as d,f as m,b as h}from"./index-BVfmz2P_.js";import p from"./EventForm-DaruHWPd.js";import{C as u}from"./CContainer-CsUI64Lj.js";import{C as f,a as C}from"./CRow-DMW5_ZFm.js";import{C as j}from"./CFormLabel-Dyf3wtmY.js";import{C as v}from"./CInputGroup-B2otYW5_.js";import{C as x}from"./CFormInput-tr2q74so.js";import{C as w,a as y}from"./CCardBody-CMMVEv4n.js";import{C as g,a as b,b as F,c as N,d as S,e as A}from"./CTable-BVsdtPxw.js";import{C as T}from"./CTooltip-C_obS5xh.js";import"./react-BF1r7_8g.js";import"./react-dom-DgB6LS8R.js";import"./zod-B0zZW6rS.js";import"./react-hook-form-DGCwHb0C.js";import"./@hookform/resolvers/zod-B5rlnuQ9.js";import"./CModalHeader-CXP-VjuB.js";import"./DefaultLayout-B-rQQrsA.js";import"./index.esm-DXWReWsa.js";import"./isRTL-D5ORmfro.js";import"./CModalTitle-DySHLgX8.js";import"./CFormSelect-D5krOg4X.js";import"./CFormTextarea-C96Wx7Pm.js";import"./CModalFooter-DLbbms-t.js";import"./CCardHeader-Cq2ifRoK.js";const I=()=>{const{userInformation:I}=e.useContext(s),[k,M]=e.useState([]),[z,E]=e.useState(!1),[L,H]=e.useState(!1),[R,V]=e.useState("view"),[_,B]=e.useState({}),D=async()=>{try{E(!0);const e=await c("/facilities/events/upcoming");200===e.status&&(M(e.data.data),E(!1))}catch(e){}};return e.useEffect((()=>{D()}),[]),a(o,{children:n(u,{children:[a(f,{className:"mb-3",children:n(C,{children:[a("h2",{children:"Interviews"}),n("small",{children:["In this page, you can ",a("span",{className:"text-info",children:"view"})," and"," ",a("span",{className:"text-warning",children:"edit"})," the list of upcoming interviews."]})]})}),a(f,{className:"mb-3",children:a(C,{children:a(j,{children:n(v,{children:[a(x,{type:"search",placeholder:"Search...","aria-label":"Search"}),a(l,{type:"button",color:"primary",children:a(r,{icon:i})}),a(l,{type:"button",color:"primary",onClick:()=>{D()},children:a(r,{icon:t})})]})})})}),a(f,{className:"mb-3",children:a(C,{children:a(w,{children:a(y,{children:n(g,{align:"middle",hover:!0,responsive:!0,striped:!0,children:[a(b,{children:n(F,{children:[a(N,{children:"#"}),a(N,{children:"Event"}),a(N,{children:"Author"}),a(N,{children:"Type"}),a(N,{children:"Date"}),a(N,{children:"Timeslot"}),a(N,{children:"Participants"}),a(N,{children:"Approved"}),a(N,{children:"Actions"})]})}),a(S,{children:k.map((e=>{var r,i,t;return n(F,{children:[a(T,{placement:"top",content:e._id,children:a(A,{children:d(e._id,10)})}),a(A,{children:e.name}),n(A,{children:[e.author.lastname,", ",e.author.firstname]}),a(A,{children:e.type}),a(A,{children:m(e.date)}),n(A,{children:[h(null==(r=e.timeslot)?void 0:r.start)," -"," ",h(null==(i=e.timeslot)?void 0:i.start)]}),a(A,{children:a("div",{className:"d-flex justify-content-center",children:null==(t=e.participants)?void 0:t.length})}),a(A,{children:e.isApproved.status?a("span",{className:"text-success",children:"Approved"}):a("small",{className:"text-danger",children:"Requires Approval"})}),a(A,{children:n("div",{className:"d-flex gap-2 flex-wrap",children:[a(l,{color:"info",size:"sm",onClick:()=>{V("view"),H(!0),B(e.timeslot)},children:"View"}),("admin"===I.role||"manager"===I.role)&&a(l,{color:"warning",size:"sm",onClick:()=>{V("edit"),H(!0),B(e.timeslot)},children:"Manage"})]})})]},e._id)}))})]})})})})}),a(f,{children:a(C,{children:a(p,{isVisible:L,onClose:()=>{V("view"),H(!1)},state:R,slot:_})})})]})})};export{I as default};
