import{r as e}from"./react-router-dom-BnDDw25P.js";import{F as r,I as i,J as s}from"./index.es-Bu1yrmVS.js";import{A as t,a,F as o,j as n,g as l,w as c}from"./index-CopbqkEz.js";import{t as d,f as m,b as h}from"./index-BVfmz2P_.js";import p from"./EventForm-B_IGbDVK.js";import{C as u}from"./CContainer-NNqe3VRY.js";import{C,a as f}from"./CRow-aiLILlFw.js";import{C as j}from"./CFormLabel-BzT4prGI.js";import{C as v}from"./CInputGroup-Dah1QukK.js";import{C as w}from"./CFormInput-z6oSFf3U.js";import{C as y,a as b}from"./CCardBody-DJryQPgH.js";import{C as g,a as x,b as F,c as S,d as A,e as I}from"./CTable-D5m-OWv3.js";import{C as N}from"./CTooltip-DV3CH3Ks.js";import"./react-BF1r7_8g.js";import"./react-dom-DgB6LS8R.js";import"./zod-B0zZW6rS.js";import"./react-hook-form-DGCwHb0C.js";import"./@hookform/resolvers/zod-B5rlnuQ9.js";import"./CModalHeader-CCMLCb0K.js";import"./DefaultLayout-CA98i8wf.js";import"./index.esm-t9-9Td7j.js";import"./isRTL-D5ORmfro.js";import"./CModalTitle-DhyCw6CW.js";import"./CFormTextarea-D3bAwSqD.js";import"./CFormSelect-n7Zj0_cl.js";import"./CCardHeader-RSDD0g3x.js";const T=()=>{const{userInformation:T}=e.useContext(t),[k,z]=e.useState([]),[L,R]=e.useState(!1),[E,H]=e.useState(!1),[M,_]=e.useState("view"),[D,G]=e.useState({});return e.useEffect((()=>{(async()=>{try{R(!0);const e=await c("/facilities/events/upcoming");200===e.status&&(z(e.data.data),R(!1))}catch(e){}})()}),[]),a(o,{children:n(u,{children:[a(C,{className:"mb-3",children:n(f,{children:[a("h2",{children:"Interviews"}),a("small",{children:"In this page, you can view and edit the list of upcoming interviews."})]})}),a(C,{className:"mb-3",children:a(f,{children:a(j,{children:n(v,{children:[a(w,{type:"search",placeholder:"Search...","aria-label":"Search"}),a(l,{type:"button",color:"primary",children:a(r,{icon:i})}),a(l,{type:"button",color:"primary",children:a(r,{icon:s})})]})})})}),a(C,{className:"mb-3",children:a(f,{children:a(y,{children:a(b,{children:n(g,{align:"middle",hover:!0,responsive:!0,striped:!0,children:[a(x,{children:n(F,{children:[a(S,{children:"#"}),a(S,{children:"Event"}),a(S,{children:"Author"}),a(S,{children:"Type"}),a(S,{children:"Date"}),a(S,{children:"Timeslot"}),a(S,{children:"Participants"}),a(S,{children:"Approved"}),a(S,{children:"Actions"})]})}),a(A,{children:k.map((e=>n(F,{children:[a(N,{placement:"top",content:e._id,children:a(I,{children:d(e._id,10)})}),a(I,{children:e.name}),n(I,{children:[e.author.lastname,", ",e.author.firstname]}),a(I,{children:e.type}),a(I,{children:m(e.date)}),n(I,{children:[h(e.timeslot.start)," - ",h(e.timeslot.start)]}),a(I,{children:e.participants.length}),a(I,{children:e.isApproved.status?a("span",{className:"text-success",children:"Approved"}):a("small",{className:"text-danger",children:"Requires Approval"})}),a(I,{children:n("div",{className:"d-flex gap-2 flex-wrap",children:[a(l,{color:"info",size:"sm",onClick:()=>{_("view"),H(!0),G(e.timeslot)},children:"View"}),("admin"===T.role||"manager"===T.role)&&a(l,{color:"warning",size:"sm",onClick:()=>{_("edit"),H(!0),G(e.timeslot)},children:"Manage"})]})})]},e._id)))})]})})})})}),a(C,{children:a(f,{children:a(p,{isVisible:E,onClose:()=>{_("view"),H(!1)},state:M,slot:D})})})]})})};export{T as default};
