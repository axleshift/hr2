import{r as e}from"./react-router-dom-BnDDw25P.js";import{F as r,A as a,B as i}from"./index.es-DYre-5ez.js";import{j as t,F as n,a as s,k as l,g as o,p as c,x as d}from"./index-qHb5tAdx.js";import{t as p,f as h}from"./index-BOi-5bX2.js";import"./JobForm-dMWeBYOF.js";import{J as m}from"./JobOfferForm-6gnSZbGP.js";import"./InterviewForm-Crk1P5ku.js";import{A as f}from"./AppPagination-B2VO-T6n.js";import{C as u,a as j}from"./CCardBody-gL1p66qB.js";import{C as v,a as C,b as y,c as S,d as g,e as b}from"./CTable-JBToS8d6.js";import{C as N}from"./CTooltip-CljDTM0A.js";import{C as D}from"./CContainer-B1Ovw4vN.js";import{C as A,a as x}from"./CRow-DYavEpjv.js";import{C as w}from"./CFormLabel-UDpH3Qx3.js";import{C as I}from"./CInputGroup-C6uD42B3.js";import{C as M}from"./CFormInput-DF5LQCIp.js";import"./react-BF1r7_8g.js";import"./react-dom-DgB6LS8R.js";import"./zod-B0zZW6rS.js";import"./react-hook-form-DB8hWBdy.js";import"./@hookform/resolvers/zod-1wp20Skh.js";import"./CModalHeader-beeSvsCt.js";import"./DefaultLayout-CPc9-BYb.js";import"./index.esm-GVz-2sp-.js";import"./isRTL-D5ORmfro.js";import"./CModalTitle-IUT3VrW5.js";import"./CFormTextarea-DP8Q6-6q.js";import"./CFormSelect-4-wAhThw.js";import"./CFormCheck-Didiv9Pq.js";import"./CFormRange-Dw3bxmhy.js";const F=({applicants:r=[],loading:a,onIssueOffer:i})=>(e.useEffect((()=>{}),[r]),t(n,{children:[s("h2",{children:"Eligible for Job Offer"}),s(u,{className:"mb-4",children:s(j,{children:t(v,{align:"middle",hover:!0,responsive:!0,striped:!0,children:[s(C,{children:t(y,{children:[s(S,{children:"#"}),s(S,{children:"Applicant"}),s(S,{children:"Position"}),s(S,{children:"Preferred Location"}),s(S,{children:"Interview Date"}),s(S,{children:"Action"})]})}),s(g,{children:a?s(y,{children:s(b,{colSpan:"12",children:s("div",{className:"d-flex justify-content-center",children:s(l,{variant:"grow",size:"sm"})})})}):0===r.length?s(y,{children:s(b,{colSpan:"12",children:s("div",{className:"d-flex justify-content-center",children:"No eligible applicants found"})})}):r.map((e=>t(y,{children:[s(N,{content:e._id,placement:"top",children:s(b,{children:p(e._id,10)})}),t(b,{children:[e.lastname,", ",e.firstname]}),s(b,{children:e.jobAppliedFor||"N/A"}),s(b,{children:e.preferredWorkLocation||"N/A"}),s(b,{children:h(e.interviewDate||e.updatedAt)}),s(b,{children:s(o,{color:"success",size:"sm",onClick:()=>i(e),children:"Issue Offer"})})]},e._id)))})]})})})]}));F.propTypes={applicants:c.array.isRequired,loading:c.bool.isRequired,onIssueOffer:c.func};const Y=()=>{const[c,Y]=e.useState([]),[P,B]=e.useState(!1),[k,J]=e.useState("view"),[O,_]=e.useState(!1),[z,L]=e.useState({}),[R,T]=e.useState(1),[$,E]=e.useState(3),[q,H]=e.useState(0),[W,G]=e.useState(0),[K,V]=e.useState([]),[X,Z]=e.useState(!1),[Q,U]=e.useState(!1),[ee,re]=e.useState({}),[ae,ie]=e.useState("view"),[te,ne]=e.useState({}),[se,le]=e.useState({}),oe=async()=>{try{B(!0);const e=await d(`/applicant/joboffer/recent?page=${R}&limit=${$}&sort=desc`);200===e.status&&(Y(e.data.data),T(e.data.currentPage),H(e.data.totalPages),G(e.data.totalItems))}catch(e){}finally{B(!1)}};return e.useEffect((()=>{oe(),(async()=>{try{Z(!0);const e=await d("/applicant/joboffer/all");200===e.status&&V(e.data.data)}catch(e){}finally{Z(!1)}})()}),[R,$,q,W]),s(n,{children:t(D,{children:[s(A,{children:s(x,{children:s(F,{applicants:K,loading:X,onIssueOffer:e=>{ne(e),J("create"),_(!0)}})})}),s(A,{className:"mb-3",children:t(x,{children:[s("h2",{children:"Joboffers"}),s("small",{children:"In this page, you can view Job offers for applicants that needs approval by a manager."})]})}),s(A,{className:"mb-3",children:s(x,{children:s(w,{children:t(I,{children:[s(M,{type:"search",placeholder:"Search...","aria-label":"Search"}),s(o,{type:"button",color:"primary",children:s(r,{icon:a})}),s(o,{type:"button",color:"primary",children:s(r,{icon:i,onClick:()=>oe()})})]})})})}),s(A,{className:"mb-3",children:s(x,{children:s(u,{children:s(j,{children:t(v,{align:"middle",hover:!0,responsive:!0,striped:!0,children:[s(C,{children:t(y,{children:[s(S,{children:"#"}),s(S,{children:"Applicant Name"}),s(S,{children:"Position"}),s(S,{children:"Start Date"}),s(S,{children:"Status"}),s(S,{children:"Issued By"}),s(S,{children:"Issued Date"}),s(S,{children:"Approved By"}),s(S,{children:"Approved Date"}),s(S,{children:"Email Sent"}),s(S,{children:"Actions"})]})}),s(g,{children:P?s(y,{children:s(b,{colSpan:"12",children:s("div",{className:"d-flex justify-content-center",children:s(l,{variant:"grow",size:"sm"})})})}):0===c.length?s(y,{children:s(b,{colSpan:"12",children:s("div",{className:"d-flex justify-content-center",children:"No job offer found"})})}):c.map((e=>{var r,a,i,n;return t(y,{children:[s(N,{placement:"top",content:e._id,children:s(b,{children:p(e._id,10)})}),t(b,{children:[null==(r=e.applicant)?void 0:r.lastname,", ",null==(a=e.applicant)?void 0:a.firstname]}),s(b,{children:e.position}),s(b,{children:h(e.startDate,"MMM DD YYYY h:mm A")}),s(b,{children:e.status}),t(b,{children:[null==(i=e.issuedBy)?void 0:i.lastname,", ",null==(n=e.issuedBy)?void 0:n.firstname]}),s(b,{children:h(e.issuedDate,"MMM DD YYYY h:mm A")}),s(b,{children:e.approvedBy?`${e.approvedBy.lastname}, ${e.approvedBy.firstname}`:"No Data"}),s(b,{children:e.approvedDate?h(e.approvedDate,"MMM DD YYYY h:m A"):"No Data"}),s(b,{children:e.emailsent?s("span",{className:"text-success",children:"Sent"}):s("span",{className:"text-danger",children:"Not Sent"})}),s(b,{children:s(o,{color:"warning",size:"sm",onClick:()=>{L(e),_(!0),J("edit")},children:"Manage"})})]},e._id)}))})]})})})})}),s(A,{className:"mt-2",children:s(x,{children:s("div",{className:"d-flex flex-row gap-2 justify-content-center align-items-center",children:s(f,{currentPage:R,totalPages:q,onPageChange:T})})})}),s(A,{children:s(x,{children:s(m,{isVisible:O,onClose:()=>{_(!1)},state:k,joboffer:z,applicantData:te})})})]})})};export{Y as default};
