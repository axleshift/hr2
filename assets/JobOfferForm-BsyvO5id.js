import{r as e}from"./react-router-dom-BnDDw25P.js";import{m as t,A as a,j as s,a as r,g as i,p as o}from"./index-D-GnuKZU.js";import{z as n}from"./zod-B0zZW6rS.js";import{u as l}from"./react-hook-form-DB8hWBdy.js";import{s as d}from"./@hookform/resolvers/zod-1wp20Skh.js";import"./index-DCO1bnrX.js";import{C as m,a as c,b as p}from"./CModalHeader-DQJDo40N.js";import{C as f}from"./CModalTitle-HFeZ3kaT.js";import{C as h,a as b}from"./CRow-Cw4eeKIx.js";import{C as u,a as C,b as j}from"./CFormLabel-CNa7kd_d.js";import{C as y}from"./CFormInput-Dn-iE12k.js";import{C as v}from"./CTooltip-BDYXaFVj.js";import{C as g}from"./CFormSelect-BQ8Vu6il.js";import{C as S}from"./CFormTextarea-Dk0Pnquo.js";import{C as x}from"./CFormCheck-cdq4rsa3.js";const w=["Pending","Accepted","Declined"],D=n.object({position:n.string().min(1).max(30),salary:n.coerce.number().min(1).default(1),startDate:n.date(),benefits:n.string().optional(),status:n.enum(w),notes:n.string().optional()}),N=({isVisible:o,onClose:n,state:N,interview:O})=>{const{addToast:F}=e.useContext(t),{userInformation:T}=e.useContext(a),[I,k]=e.useState(!1),[z,A]=e.useState(!1),[R,J]=e.useState("view"),[V,q]=e.useState(!1),{register:E,handleSubmit:M,reset:P,setValue:W,watch:B,formState:{errors:H}}=l({resolver:async(e,t,a)=>await d(D)(e,t,a)});return e.useEffect((()=>{o&&(q(o),J(N),P({position:O.job?O.job:"No Data",startDate:new Date(O.date).toISOString().split("T")[0],salary:O.salaryExpectation}))}),[o,N,O]),s(m,{visible:V,size:"lg",onClose:()=>{n(),q(!1)},backdrop:"static",children:[r(c,{children:r(f,{className:"text-capitalize",children:"Job Offer Form"})}),r(p,{children:r(h,{children:r(b,{children:s(u,{onSubmit:M((async e=>{})),children:[s(h,{className:"mb-3",children:[s(b,{children:[r(y,{label:"Position / job Applied For?",...E("position"),invalid:!!H.position,readOnly:z}),H.position&&r(C,{invalid:!0,children:H.position.message})]}),s(b,{children:[r(y,{type:"number",label:"Salary",...E("salary",{valueAsNumber:!0}),invalid:!!H.salary,readOnly:z}),H.salary&&r(C,{invalid:!0,children:H.salary.message})]})]}),s(h,{className:"mb-3",children:[s(b,{children:[r(v,{placement:"top",content:"When the new hire is expected to start.",children:r(j,{children:"Start Date"})}),r(y,{type:"date",...E("startDate",{valueAsDate:!0}),readOnly:z,defaultValue:(new Date).toISOString().split("T")[0]}),H.startDate&&r(C,{invalid:!0,children:H.startDate.message})]}),r(b,{children:r(g,{label:"Job Offer Status",...E("status"),invalid:!!H.status,disabled:!0,children:w.map(((e,t)=>r("option",{value:e,children:e},t)))})})]}),r(h,{className:"mb-3",children:s(b,{children:[r(S,{label:"Benefits",rows:6,...E("benefits"),readOnly:z}),H.benefits&&r(C,{invalid:!0,children:H.benefits.message})]})}),r(h,{className:"mb-3",children:s(b,{children:[r(S,{label:"Notes",rows:6,...E("notes"),readOnly:z}),H.notes&&r(C,{invalid:!0,children:H.notes.message})]})}),r(h,{children:r(b,{className:"d-flex justify-content-end",children:r(x,{label:"I confirm that details above are correct and true.",defaultChecked:!I,onChange:()=>k(!I)})})}),r(h,{children:r(b,{className:"d-flex justify-content-end",children:r(i,{type:"submit",color:"primary",size:"sm",disabled:I,children:"Issue Job Offer"})})})]})})})})]})};N.propTypes={isVisible:o.bool.isRequired,onClose:o.func.isRequired,state:o.string.isRequired,interview:o.object,joboffer:o.object};export{N as J};
